{"version":3,"sources":["components/error-indicator/death-star.png","components/header/index.js","components/header/header.js","services/swapi-service.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/random-planet/random-planet.js","components/random-planet/index.js","components/error-button/index.js","components/error-button/error-button.js","components/item-list/item-list.js","components/item-list/index.js","components/hoc-helpers/with-data.js","components/swapi-service-contex/swapi-service-contex.js","components/hoc-helpers/with-swapi-service.js","components/hoc-helpers/with-child-function.js","components/hoc-helpers/compose.js","components/sw-components/item-lists.js","components/items-details/items-details.js","components/items-details/index.js","components/sw-components/person-details.js","components/sw-components/planet-details.js","components/sw-components/starship-details.js","components/row/row.js","components/row/index.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","components/pages/people-page.js","components/pages/planets-page.js","components/pages/starships-page.js","components/pages/secret-page.js","components/pages/login-page.js","services/mock-swapi-service.js","components/app/index.js","components/app/app.js","index.js"],"names":["module","exports","Header","onServiceChange","className","to","activeClassName","onClick","SwapiService","_apiBase","_imageBase","cancelResource","_controller","abort","_transformPlanet","planet","id","_extractId","image","name","population","rotationPeriod","rotation_period","diameter","_transformPerson","person","gender","birthYear","birth_year","eyeColor","eye_color","_transformStarships","startship","model","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","cargoCapacity","cargo_capacity","getAllPeople","a","async","getResource","people","results","map","getPerson","getAllPlanets","planets","getPlanet","getAllStarships","starships","getStarship","ship","url","this","AbortController","fetch","signal","response","ok","Error","status","json","body","item","match","Spinner","ErrorIndicator","src","icon","alt","RandomPlanet","swapiService","_cancelled","state","loading","error","onPlanetLoaded","setState","onError","err","updatePlanet","Math","floor","random","then","catch","updateInterval","props","interval","setInterval","clearInterval","spinner","errorMessage","content","Component","defaultProps","PlanetView","isImage","Fragment","ErrorButton","renderError","foo","bar","ItemList","data","onItemSelected","renderLabel","children","items","label","key","console","log","propsTypes","PropTypes","func","arrayOf","object","isRequired","withData","View","update","prevProps","getData","React","createContext","SwapiServiceProvider","Provider","SwapiServiceConsumer","Consumer","withSwapiService","mapMethodsToProps","Wrapped","serviceProps","withChildFunction","fn","WithChildFunction","displayName","compose","funcs","comp","reduceRight","prevResult","PersonList","PlanetList","StarshipList","Record","filed","ItemsDetails","updateItem","itemId","Children","child","cloneElement","Row","left","right","node","ErrorBoundry","hasError","PeoplePage","selectedItem","onPersonSelected","itemList","details","PlanetPage","history","params","push","StarshipPage","SecretPage","isLoggedIn","LoginPage","onLoggin","MockSwapiService","_people","_planets","_starships","filter","starship","App","showRandomPlanet","toggleRandomPlanet","Service","randomPlanet","value","path","exact","render","component","PlanetsPage","StarshipsPage","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d0bdb934.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import Header from './header';\nexport default Header;\n","import React from 'react';\nimport { Link, NavLink } from 'react-router-dom';\nimport './header.css';\n\n/*\n  link - когда необходимы простые ссылки\n  NavLink - когда необходимо вешать класс active на ссылки\n\n  ! Для того чтобы относительно пути работали корректно,\n  ! промежуточные пути должны заканчиваться на '/'\n*/\n\nconst Header = ({ onServiceChange }) => {\n  return (\n    <div className='header d-flex'>\n      <h3>\n        <Link to='/'>Star Wars</Link>\n      </h3>\n\n      <ul className='row'>\n        <li>\n          <NavLink to='/people/' activeClassName='active'>\n            People\n          </NavLink>\n        </li>\n\n        <li>\n          <NavLink to='/planets/' activeClassName='active'>\n            Planets\n          </NavLink>\n        </li>\n\n        <li>\n          <NavLink to='/startships/' activeClassName='active'>\n            Starships\n          </NavLink>\n        </li>\n\n        <li>\n          <NavLink to='/login' activeClassName='active'>\n            Login\n          </NavLink>\n        </li>\n\n        <li>\n          <NavLink to='/secret' activeClassName='active'>\n            Secret\n          </NavLink>\n        </li>\n      </ul>\n\n      <button className='btn btn-sm btn-primary' onClick={onServiceChange}>\n        Change Service\n      </button>\n    </div>\n  );\n};\nexport default Header;\n\n/*\n  # Способ №1 Добавления класса на определенный тег в зависимости от страницы\n    # (Добавлять класс active не на <a> на <li>)\n\n  const HeaderMenuLink = ({ to, label, activeOnlyWhenExact }) => {\n    let match = useRouteMatch({\n      path: to,\n      exact: activeOnlyWhenExact,\n    });\n\n    return (\n      <li className={match ? 'active' : ''}>\n        <Link to={to}>{label}</Link>\n      </li>\n    );\n  };\n\n  const Header = ({ onServiceChange }) => {\n    return (\n      <div className='header d-flex'>\n        <h3>\n          <a href='#1'>Star Wars</a>\n        </h3>\n\n        <ul className='d-flex'>\n          <HeaderMenuLink to='/people' label='People' />\n          <HeaderMenuLink to='/planets' label='Planets' />\n          <HeaderMenuLink to='/startships' label='Starships' />\n        </ul>\n      </div>\n    );\n  };\n\n  # Способ №2\n\n  const isActive = (path, location) => {\n    const opts = {\n      path,\n      exact: path === '/',\n    };\n\n    return !!matchPath(location, opts);\n  };\n\n  const Header = ({ onServiceChange, location: { pathname } }) => {\n    return (\n      <div className='header d-flex'>\n        <h3>\n          <a href='#1'>Star Wars</a>\n        </h3>\n\n        <ul className='d-flex'>\n          <li className={isActive('/people', pathname) ? 'active' : ''}>\n            <Link to='/people'>People</Link>\n          </li>\n\n          <li className={isActive('/planets', pathname) ? 'active' : ''}>\n            <Link to='/planets'>Planets</Link>\n          </li>\n\n          <li className={isActive('/startships', pathname) ? 'active' : ''}>\n            <Link to='/startships'>Starships</Link>\n          </li>\n        </ul>\n      </div>\n    );\n  };\n\n  Функция withRouter -> HOC. Передает объект react router, в свойствах которого объекты: match, history и location.\n\n  export default withRouter(Header);\n*/\n","/*\n  ! Классы - сервисы хорошая практика при разработки больших приложений\n\n  Необходимы для того чтобы инкапулировать весь сетевой код\n  и изолировать от остальных частей приложения\n  Весь код работы с данными находиться в одном месте\n  в дальнейшего добавления какой-либо Логики\n\n  Для других частей приложения SwapiService - асинхронный источник данных\n  а все особенности работы с этими данными инкапсулированны внутри\n\n  ! Для получения изображений используется\n  https://starwars-visualguide.com\n  В нем совпадают id c https://swapi.co/\n\n*/\n\n// # Класс клиент для работы с сетевыми запросами\nexport default class SwapiService {\n  // Приватная часть, которую нельзя менять и использовать снаружи\n  // _apiBase = 'https://swapi.co/api'; // Публичное поле\n  _apiBase = 'http://apxuapi.herokuapp.com/api';\n\n  // Адрес для получения картинок\n  _imageBase = 'https://starwars-visualguide.com/assets/img';\n\n  // ! Необходимо проверять каким образом объявлен метод, чтобы не терять this\n  // Пример внутри обычного метода id: this._extractId(planet) вызывал ошибку\n\n  // * Метод для работы с fetch\n  async getResource(url) {\n    // Метод для отмены Fetch, устанавливаю в публичное поле класса,\n    // При каждом вызове метода getResource - эта поле будет перезаписывается новым AbortController\n    this._controller = new AbortController();\n\n    // Жду результата\n    const response = await fetch(`${this._apiBase}${url}`, {\n      signal: this._controller.signal,\n    });\n    // Если результат ответа от сервера приходит не -> 200\n    if (!response.ok) {\n      throw new Error(`Could not fetch ${url}, received ${response.status}`);\n    }\n    const body = await response.json(); // Получаю объект\n\n    return body;\n  }\n\n  // * Отмена Fetch\n  cancelResource = () => {\n    this._controller.abort();\n  };\n\n  // * Функция по созданию id из полученного url Api\n  // Так как у Api (swapi) в присланном нам объекте нету поля id\n  // Его можно получить через поле url в строке https://swapi.co/api/planets/18/\n  _extractId(item) {\n    // Регулярное выражения для поиска id их url\n    const isRegExp = /\\/([0-9]*)\\/$/;\n    // Первая группа совпадения, остается номер без / /\n    const id = item.url.match(isRegExp)[1];\n    return id;\n  }\n\n  // * Функция трансформация данных от Api (Planets)\n  // Преобразует получаемый объект с сервера\n  // в новый объект под необходимый нам формат, и отбрасываем лишние поля\n  _transformPlanet = (planet) => {\n    const id = this._extractId(planet);\n\n    return {\n      id,\n      image: `${this._imageBase}/planets/${id}.jpg`,\n      name: planet.name,\n      population: planet.population,\n      rotationPeriod: planet.rotation_period,\n      diameter: planet.diameter,\n    };\n  };\n\n  // * Функция трансформация данных от Api (Person)\n  // Преобразует получаемый объект с сервера\n  // в новый объект под необходимый нам формат, и отбрасываем лишние поля\n  _transformPerson = (person) => {\n    const id = this._extractId(person);\n\n    return {\n      id,\n      image: `${this._imageBase}/characters/${id}.jpg`,\n      gender: person.gender,\n      name: person.name,\n      birthYear: person.birth_year,\n      eyeColor: person.eye_color,\n    };\n  };\n\n  // * Функция трансформация данных от Api (Startship)\n  // Преобразует получаемый объект с сервера\n  // в новый объект под необходимый нам формат, и отбрасываем лишние поля\n  _transformStarships = (startship) => {\n    const id = this._extractId(startship);\n\n    return {\n      id,\n      image: `${this._imageBase}/starships/${id}.jpg`,\n      name: startship.name,\n      model: startship.model,\n      manufacturer: startship.manufacturer,\n      costInCredits: startship.cost_in_credits,\n      length: startship.length,\n      crew: startship.crew,\n      passengers: startship.passengers,\n      cargoCapacity: startship.cargo_capacity,\n    };\n  };\n\n  // ! Если функции получения данных будут передаваться через\n  // ! Свойства компонента (PeoplePage), то необходимо следить за this,\n  // ! и использовать стрелочные функции\n\n  // * Все персонажи\n  getAllPeople = async () => {\n    const people = await this.getResource(`/people/`);\n    return people.results.map(this._transformPerson);\n  };\n\n  // * Конкретный персонаж\n  getPerson = async (id) => {\n    const person = await this.getResource(`/people/${id}/`);\n    return this._transformPerson(person);\n  };\n\n  // * Все планеты\n  getAllPlanets = async () => {\n    const planets = await this.getResource(`/planets/`);\n    return planets.results.map(this._transformPlanet);\n  };\n\n  // * Конкретная планета\n  getPlanet = async (id) => {\n    const planet = await this.getResource(`/planets/${id}/`);\n    return this._transformPlanet(planet);\n  };\n\n  // * Все корабли\n  getAllStarships = async () => {\n    const starships = await this.getResource(`/starships/`);\n    return starships.results.map(this._transformStarships);\n  };\n\n  // * Конкретный корабль\n  getStarship = async (id) => {\n    const ship = await this.getResource(`/starships/${id}/`);\n    return this._transformStarships(ship);\n  };\n}\n\n// # Пример использования\n// const swapi = new SwapiService();\n// swapi.getAllPeople().then((people) =>\n//   people.forEach((p) => {\n//     console.log(p.name);\n//   })\n// );\n\n// # Функция для работы с fetch\n// const getResource = async (url) => {\n//   const result = await fetch(url); // Жду результата\n//   // Если ответа от сервера приходит не -> 200\n//   if (!result.ok) {\n//     throw new Error(`Could not fetch ${url}, received ${result.status}`);\n//   }\n\n//   const body = await result.json(); // Получаю объект\n//   return body;\n// };\n\n// getResource('https://swapi.co/api/people/1/')\n//   .then((body) => console.log(body))\n//   .catch((err) => console.error('Could not fetch', err));\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className='lds-css'>\n      <div className='lds-double-ring'>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;\n","import ErrorIndicator from './error-indicator';\nexport default ErrorIndicator;\n","import React from 'react';\nimport './error-indicator.css';\nimport icon from './death-star.png'; // Webpack - кодирует в base64\n\n// # Компонент показа сообщения об ошибки\nconst ErrorIndicator = () => {\n  return (\n    <div className='error-indicator'>\n      <img src={icon} alt='error icon' />\n      <h3 className='boom'>BOOM!</h3>\n      <p>something has gone droids to fix it</p>\n      <p>(but we already sent droids to fix it)</p>\n    </div>\n  );\n};\n\nexport default ErrorIndicator;\n","import React, { Component } from 'react';\nimport SwapiService from '../../services/swapi-service';\nimport Spinner from '../spinner/spinner';\nimport ErrorIndicator from '../error-indicator';\nimport PropTypes from 'prop-types';\n\nimport './random-planet.css';\n\n/*\n  ! Этот компонент соответствует паттерну: Разделение ответственности\n  ! Необходимо разделять Логику и Рендеринг\n  Компоненты которые занимаются Логикой не занимаются отрисовкой\n  Компоненты которые занимаются отрисовкой не занимаются Логикой\n\n  Есть главный компонент RandomPlanet который отвечает за логику того,\n  что происходит (получает данные, управляет состоянием, знает загружается ли сейчас компонент)\n\n  Остальные компоненты PlanetView, занимаются исключительно за отображением данных,при этом они ничего не знаю откуда эти данные берутся\n\n  ! Если будет отправлен props cо значением null - defaultProps, работать не будет\n\n  ! Если  propTypes определены свойства, isRequired в PropTypes писать не нужно,\n  ! так как propTypes срабатывает после defaultProps, значение присваивается из defaultProps\n*/\n\nexport default class RandomPlanet extends Component {\n  // * Свойства по умолчанию\n  static defaultProps = {\n    updateInterval: 10000,\n  };\n\n  // * Валидация типов входящих props\n  static propTypes = {\n    // Проверка типа и делает его обязательным\n    updateInterval: PropTypes.number,\n  };\n\n  // * Инициализация класс-сервиса, для работы с сервером\n  swapiService = new SwapiService();\n\n  // * Собственный способ отмены Fetch\n  _cancelled = false;\n\n  // * Первоначальное состояние\n  state = {\n    planet: {},\n    loading: true,\n    error: false, // Будет ли показана ошибка при загрузке\n  };\n\n  // * Компонент вставлен в DOM\n  componentDidMount() {\n    // Таймер, можно передавать через App\n    const { updateInterval } = this.props;\n\n    this.updatePlanet();\n    // Обновляем показ рандомной планеты\n    this.interval = setInterval(this.updatePlanet, updateInterval);\n  }\n\n  // * Компонент удален\n  componentWillUnmount() {\n    // Очиста таймера в момент сокрытия через App -> toggleRandomPlanet\n    // Если этого не сделать, то даже после удаления, будет происходить утечка памяти\n    clearInterval(this.interval);\n    this._cancelled = true;\n  }\n\n  // * Then после асинхронной загрузки, преобразования данных и запись в state\n  // Так как внутри swapiService уже есть функции\n  // по трансформации данных _extractId по получению id из url\n  // то можно просто копировать полученный объект в state\n  onPlanetLoaded = (planet) => {\n    // Нет зависимости от предыдущего state, можно использовать объект\n    // Когда произошла загрузка данных отключает Spinner\n    !this._cancelled && this.setState({ planet, loading: false });\n  };\n\n  // * Catch - для обработки ошибок в момент загрузки данных\n  onError = (err) => {\n    !this._cancelled &&\n      this.setState({\n        error: true,\n        loading: false,\n      });\n  };\n\n  // * Загрузка случайной Планеты\n  updatePlanet = () => {\n    // # Генерация случайного id\n    // от 3 до 28 (включая 3, но не включая 28)\n    // Math.random Возвращает 0 до 0.99\n    const id = Math.floor(Math.random() * 25) + 3;\n\n    this.swapiService\n      .getPlanet(id)\n      .then(this.onPlanetLoaded)\n      .catch(this.onError);\n  };\n\n  // Как только компонент инициализируется, происходит загрузка данных\n  render() {\n    const { planet, loading, error } = this.state;\n\n    // ! null игнорируется jsx\n    // Пока загрузки данных не произошло, загружаем спиннер\n    const spinner = loading ? <Spinner /> : null;\n\n    // Уведомление об ошибке в момент загрузки\n    const errorMessage = error ? <ErrorIndicator /> : null;\n\n    // Есть данные тогда, когда нет не загрузки, не ошибки\n    const hasData = !(loading || error);\n    // Когда данных загрузились, отображается информация о случайной планете\n    const content = hasData ? <PlanetView planet={planet} /> : null;\n\n    return (\n      <div className='random-planet jumbotron rounded'>\n        {/* Либо спиннер либо контент либо сообщение с ошибкой*/}\n        {errorMessage}\n        {spinner}\n        {content}\n      </div>\n    );\n  }\n}\n/*\n  ! Альтернативное решение, по отрисовки\n  return (\n      <div className=\"random-planet jumbotron rounded\">\n        {error ? <ErrorIndicator/> : loading ? <Spinner /> : <PlanetView planet={planet} />}\n      </div>\n    )\n*/\n\n// # Приватный компонент (только внутри random-planet)\nconst PlanetView = ({ planet }) => {\n  const { id, name, population, rotationPeriod, diameter } = planet;\n\n  // картинки с id больше 21 20\n  const NO_IMAGES_ID = +id >= 22 || +id === 20;\n\n  const isImage = NO_IMAGES_ID\n    ? 'https://starwars-visualguide.com/assets/img/big-placeholder.jpg'\n    : `https://starwars-visualguide.com/assets/img/planets/${id}.jpg`;\n\n  return (\n    // * Для группировки элементов\n    // Можно заменить массив: return [jsx - теги ]\n    <React.Fragment>\n      <img className='planet-image' src={isImage} alt={name} />\n      <div>\n        <h4>{name}</h4>\n        <ul className='list-group list-group-flush'>\n          <li className='list-group-item'>\n            <span className='term'>Population:</span>\n            <span>{population}</span>\n          </li>\n          <li className='list-group-item'>\n            <span className='term'>Rotation Period:</span>\n            <span>{rotationPeriod}</span>\n          </li>\n          <li className='list-group-item'>\n            <span className='term'>Diameter:</span>\n            <span>{diameter}</span>\n          </li>\n        </ul>\n      </div>\n    </React.Fragment>\n  );\n};\n","import RandomPlanet from './random-planet';\nexport default RandomPlanet;\n","import ErrorButton from './error-button';\nexport default ErrorButton;\n","import React, { Component } from 'react';\n\nimport './error-button.css';\n\n// Вызов ошибки для проверки действия метода componentDidCatch\nexport default class ErrorButton extends Component {\n  state = {\n    renderError: false,\n  };\n\n  render() {\n    // ! Код который вызывает ошибку\n    if (this.state.renderError) {\n      this.foo.bar = 0;\n    }\n\n    return (\n      <button\n        className='error-button btn-danger btn-lg'\n        onClick={() => this.setState({ renderError: true })}\n      >\n        Throw Error\n      </button>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './item-list.css';\n\n// Generic (обощенный) компонент\n// # Обобщенная функция, предназначенная для отрисовки списка: Персонажей, Планет, Кораблей\n// Часть Логика работы с сетью переданная в компонент высшего порядка WithData\nconst ItemList = (props) => {\n  // children: renderLabel - переименовал для удобства\n  const { data, onItemSelected, children: renderLabel } = props;\n\n  // * Функция по созданию React элементов\n  const renderItems = (arr) => {\n    // # Паттерн React: render функция\n    // Функция которая описывает как будет тело этого компонента\n    // const label = props.renderItem;\n\n    // Функция которая будет передана в map,\n    // для индуал. отрисовки свойств или значений в <li>.\n    // Которые получают через сервер\n\n    return arr.map((item) => {\n      const { id } = item;\n      // # Паттерн React: Передача свойств через props.children\n      // Замена метода передачи render функция\n      const label = renderLabel(item);\n\n      return (\n        <li\n          key={id}\n          className='list-group-item'\n          // Обработчик из Обертки Page\n          onClick={() => {\n            onItemSelected(id);\n          }}\n        >\n          {label}\n        </li>\n      );\n    });\n  };\n\n  const items = renderItems(data);\n  return <ul className='item-list list-group'>{items}</ul>;\n};\n\n// Если внутри  <PersonList onItemSelected={this.onPersonSelected} />;\n// Не передать функцию, то произойдет ошибка, можно предотвратить этого:\n// ! Если будет отправлен props cо значением null - defaultProps, работать не будет\n// # Свойства по умолчанию\nItemList.defaultProps = {\n  onItemSelected: () => {\n    console.log('ItemList.defaultProps');\n  },\n};\n\n// # Валидация типов входящих props\nItemList.propsTypes = {\n  // isRequired - необязательно так как определенно в defaultProps\n  onItemSelected: PropTypes.func,\n  // Массив объектов\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\n  children: PropTypes.func.isRequired,\n};\n\nexport default ItemList;\n\n/*\n  # Компонент БЕЗ HOC\n  // # Обобщенный класс, предназначенный для отрисовки списка: Персонажей, Планет, Кораблей\n  // Generic (обощенный) компонент\n  class ItemList extends Component {\n    // * Первоначальное состояние\n    state = {\n      itemList: null,\n      hasError: false,\n    };\n\n    // * Компонент вставлен в DOM\n    componentDidMount() {\n      // # Паттерн React: Использование функций\n      // Асинхронная (Promise) функция для получения данных\n      // (Список элементов)\n      // this.swapiService.getAllPeople или getAllStarships или getAllPlanets\n      const { getData } = this.props;\n\n      getData()\n        .then((itemList) => {\n          this.setState({ itemList });\n        })\n        .catch((err) => {\n          this.setState({ hasError: true });\n        });\n    }\n\n    componentDidCatch() {\n      this.setState({ hasError: true });\n    }\n\n    // ! Возможная оптимизации функций Handler в компоненте\n    // Теперь анонимная функция не будет создаваться каждый раз\n    // onItemSelected = (id) => (event) => {\n    //   this.props.onItemSelected(id);\n    // };\n    // onClick={this.onItemSelected(id)}\n\n    // * Функция по созданию React элементов\n    renderItems(arr) {\n      // # Паттерн React: render функция\n      // Функция которая описывает как будет тело этого компонента\n      // const label = this.props.renderItem;\n\n      // Функция которая будет передана в map,\n      // для индуал. отрисовки свойств или значений в <li>.\n      // Которые получают через сервер\n\n      // # Паттерн React: Передача свойств через Children\n      // Замена метода передачи render функция\n      const label = this.props.children;\n\n      return arr.map((item) => {\n        const { id } = item;\n\n        return (\n          <li\n            key={id}\n            className='list-group-item'\n            // Обработчик из Обертки Page\n            onClick={() => {\n              this.props.onItemSelected(id);\n            }}\n          >\n            {label(item)}\n          </li>\n        );\n      });\n    }\n\n    render() {\n      const { itemList, hasError } = this.state;\n\n      // Если данные еще не получены отображается spinner\n      if (!itemList) {\n        return <Spinner />;\n      }\n\n      if (hasError) {\n        return <ErrorIndicator />;\n      }\n\n      // Если загрузка завершилась и нет ошибки:\n      const items = this.renderItems(itemList);\n\n      const { data } = this.props;\n\n      const items = this.renderItems(data);\n      return <ul className='item-list list-group'>{items}</ul>;\n    }\n  }\n*/\n","import ItemList from './item-list';\nexport default ItemList;\n","import React, { Component } from 'react';\nimport Spinner from '../spinner/spinner';\nimport ErrorIndicator from '../error-indicator';\n\n/*\n  # Паттерн React: Компоненты высшего порядка (HOC) -\n    # функция, которая создает компоненты и оборачивает существующие\n    # это один из продвинутых способов для повторного использования логики\n\n  ! Есть одно чистое соглашение — префикс имени HOC начинается с with.\n\n    Компоненты высшего порядка это обычные функции, которые создают компоненты.\n    Не элементы (это важно), а именно React компоненты,\n    которые затем могут использоваться в разных частях приложения с разными свойствами.\n*/\n\n/*\n  * Пример вынесения части Логики, чтобы не дублировать\n    * и переиспользовать этот код, можно применить Паттерн: HOC\n\n    ! Компонент ItemList типичный сетевой компонент\n    Как в любом типовом сетевом компоненте, есть несколько\n    повторяющийся фаз\n\n  * 1) Первоначальное состояние\n    state = {\n      itemList: null,\n      error: false,\n    };\n\n  * 2) Загрузка данных\n    componentDidMount() {\n      // # Паттерн React: Использование функций\n      // Асинхронная (Promise) функция для получения данных\n      const { getData } = this.props;\n\n      getData()\n        .then((itemList) => {\n          this.setState({ itemList });\n        })\n        .catch((err) => {\n          this.setState({ error: true });\n        });\n    }\n\n  * 3) Обработка ошибки\n    componentDidCatch() {\n      this.setState({ error: true });\n    }\n\n  * 4) В render проверяем есть ли ошибка, загрузка\n    render() {\n        const { itemList, error } = this.state;\n\n        // Если данные еще не получены отображается spinner\n        if (!itemList) {\n          return <Spinner />;\n        }\n\n        if (error) {\n          return <ErrorIndicator />;\n        }\n    }\n*/\n\n// # Паттерн React: Компоненты высшего порядка (HOC)\n// Отвечает за Логику работы с сетью и показа ошибок и загрузки\n// View -> Любой компонент (Который занимается менеджментом данных)\n\n// # Паттерн React: Использование функция при передачи внутрь компонентов\n// getData -> Функция (Promise) которая получает список Персонажей, Планет, Кораблей\nconst withData = (View) => {\n  // * Компонент обертка, для всей повторяющейся Логики\n  return class WithData extends Component {\n    // * Первоначальное состояние\n    state = {\n      data: null,\n      loading: true,\n      error: false,\n    };\n\n    // * Компонент вставлен в DOM\n    componentDidMount() {\n      this.update();\n    }\n\n    // * Проверка функции getData из-за возможности смены сервиса данных (App)\n    componentDidUpdate(prevProps) {\n      if (this.props.getData !== prevProps.getData) {\n        this.update();\n      }\n    }\n\n    componentWillUnmount() {\n      // ! Отмена Fetch\n      this.props.cancelResource();\n    }\n\n    update() {\n      // * После того как загрузился data loading остается false, нужно обновить state\n      // При смене сервиса, должен будет появляться спиннер\n      this.setState({\n        loading: true,\n        error: false,\n      });\n\n      // # Паттерн React: Использование функций (getData)\n      // Асинхронная (Promise) функция для получения данных\n      // (Список элементов)\n      // this.swapiService.getAllPeople или getAllStarships или getAllPlanets\n      // ! this.props получаем через withSwapiService ()\n      this.props\n        .getData()\n        .then((data) => {\n          this.setState({\n            data,\n            loading: false,\n          });\n        })\n        .catch((err) => {\n          // ! Проверяю тип ошибки, при отмене Fetch выхожу\n          if (err.name === 'AbortError') {\n            console.error('Fetch Aborted');\n            return;\n          }\n          this.setState({\n            error: true,\n            loading: false,\n          });\n        });\n    }\n\n    render() {\n      const { data, loading, error } = this.state;\n\n      // Если данные еще не получены отображается spinner\n      if (loading) {\n        return <Spinner />;\n      }\n\n      if (error) {\n        return <ErrorIndicator />;\n      }\n\n      return <View {...this.props} data={data} />;\n    }\n  };\n};\n\nexport default withData;\n","import React from 'react';\n\n/*\n  ! Создания React Context\n     ? Используется: Смена темы оформления, смена языка\n\n    React Context - необязательно должен быть статичным,\n    значение в контексте можно обновлять как любое другое свойство компонента\n\n    Например: Смена сервиса данных в App\n    Если Context обновился, обновятся все дочерние компоненты.\n\n    Если требуется обновить свойства:\n    componentDidUpdate(prevProps) - функция в которой можно проверить, какие свойства изменились\n    this.props.getData !== prevProps.getData\n*/\n\nconst {\n  Provider: SwapiServiceProvider, // Переименовываю\n  Consumer: SwapiServiceConsumer,\n} = React.createContext();\n\nexport { SwapiServiceProvider, SwapiServiceConsumer };\n","import React from 'react';\nimport { SwapiServiceConsumer } from '../swapi-service-contex';\n\n/*\n  # Паттерн React: Компоненты высшего порядка (HOC) -\n  # функция, которая создает компоненты и оборачивает существующие\n  # это один из продвинутых способов для повторного использования логики\n\n  ! Есть одно чистое соглашение — префикс имени HOC начинается с with.\n\n  Компоненты высшего порядка это обычные функции, которые создают компоненты.\n  Не элементы (это важно), а именно React компоненты,\n  которые затем могут использоваться в разных частях приложения с разными свойствами.\n\n  # Паттерн React: Использование HOC для работы с контекстом (withSwapiService)\n    - Обязанность получать данные из контекста можно вынести в компонент высшего порядка\n\n  # Паттерн React: Трансформация props в компонентах высшего порядка\n    - HOC может преобразовывать свойства перед тем, как передавать их компоненту\n    - Например, изменять их имена и выбирать, какие именно свойства нужно передать\n    - При помощи дополнительной функции (mapMethodsToProps)\n      можно определять это поведение для каждого компонента\n\n  * Использования из PersonDetails, PlanetDetails, StarshipDetails:\n      withSwapiService получает swapiService из SwapiServiceProvider -> app,\n      но потом трасформируем через переданую функцию\n      mapMethodsToProps из PersonDetails\n      Чтобы PersonDetails получал не весь swapiService, а только необходумаю ему функцию swapiService\n\n  * Использования item-list\n\n\n  ! Использования SwapiServiceConsumer\n    облегчает замену SwapiService на другой источник данных.\n    Потому, что используем swapiService который передаем из\n    <SwapiServiceProvider value={this.swapiService}>\n    А не импортировать его в Компонент,\n    тем самым SwapiService можно легко заменить из App на любой другой источник\n    например на моковые данные\n\n  # Паттерн React: Частичное примененные функции (mapMethodsToProps) => (Wrapped)\n  Такие функции принимают часть аргументов и возвращают новые функции\n  с меньшим количеством аргументов\n*/\n\nconst withSwapiService = (mapMethodsToProps) => (Wrapped) =>\n  function WithSwapiService(props) {\n    return (\n      <SwapiServiceConsumer>\n        {(swapiService) => {\n          // Трансформация props\n          const serviceProps = mapMethodsToProps(swapiService);\n          // Отмена Fetch\n          const { cancelResource } = swapiService;\n          return <Wrapped {...props} {...serviceProps} cancelResource={cancelResource} />;\n        }}\n      </SwapiServiceConsumer>\n    );\n  };\n\nexport default withSwapiService;\n\n/*\n  # БЕЗ Трансформации props в компонентах высшего порядка\n  const withSwapiService = (Wrapped) => (props) => (\n    <SwapiServiceConsumer>\n      {(swapiService) => <Wrapped {...props} swapiService={swapiService} />}\n    </SwapiServiceConsumer>\n  );\n*/\n","import React from 'react';\n\n// # Компонент высшего порядка\n// # Паттерн React: Частичное примененные функции\n// * Функция возвращает компонент ItemList c функцией Children внутри\nconst withChildFunction = (fn) => (Wrapped) => {\n  function WithChildFunction(props) {\n    // props принимает от withData -> itemList\n    return <Wrapped {...props}>{fn}</Wrapped>;\n  }\n\n  // ! Необходимо для более удобного отображения HOC внутри React Developer Tools\n  WithChildFunction.displayName = `withChildFunction(${Wrapped.displayName ||\n    Wrapped.name}`;\n  return WithChildFunction;\n};\n\nexport default withChildFunction;\n\n/*\n  # Стандартный способ отображения HOC в React Developer\n  const withChildFunction = (fn) => (Wrapped) =>\n    function WithChildFunction(props) {\n      // props принимает от withData -> itemList\n      return <Wrapped {...props}>{fn}</Wrapped>;\n    };\n\n  export default withChildFunction;\n*/\n","// # Паттерн React: Композиция компонентов высшего порядка\nconst compose = (...funcs) => (comp) =>\n  funcs.reduceRight((prevResult, fn) => fn(prevResult), comp);\n\nexport default compose;\n","import React from 'react';\nimport ItemList from '../item-list';\nimport { withData, withSwapiService, withChildFunction, compose } from '../hoc-helpers';\n\n// ! Данный компоненты - более высокая абстракция над компонентами\n\n/*\n  ! Код будет более читабельным, если вынести детали конфигурации в отдельные компоненты\n\n  Для этого можно использовать HOC (компоненты высшего порядка)\n  или просто написать компонент-обертку вручную\n\n  * Компоненты высшего порядка:\n    * withData (Получения данных, обработка ошибок),\n    * withChildFunction (Render функция врутри Child)\n    * withSwapiService (Получения необходимых функций из SwapiService -> React Context, полученного из App )\n\n  # withChildFunction\n    Для того чтобы убрать из people-page -> PersonList ->\n      Render Функцию которая описывает как будет тело этого компонента\n        (li внутри itemList в зависимости от того какой список рендарится)\n      ее можно передавать сразу в PersonList, тем самым пряча ее реализацию\n\n  # withData\n    Часть Логики которая была первоначально в ItemList теперь -> HOC withData\n\n  # withSwapiService\n    Компоненту PersonList необходимые ему функции из swapiService напрямую из Context -> App\n      Для того чтобы не импортировать его в Компонент\n      и возможности легкой замены из App на любой другой источник (моковые данные)\n\n  # Паттерн React: Композиция компонентов высшего порядка\n  * PersonList: Состоит\n    1) withChildFunction(ItemList, renderPerson) - Создается компонент с Child функцией\n    2) withData(полученый из 1) - Создается компонент который может\n    обрабатывать ошибки, показывать спиннер и загружать данные\n    3) withSwapiService(полученый из 2) - Создается компонент который берет swapiService из Context\n*/\n\n// ! Заменен на Паттерн React: Трансформация props в компонентах высшего порядка (withSwapiService)\n// # Паттерн React: Использование функция при передачи внутрь компонентов\n// Функции получения данных: персонажей, планет, кораблей\n// const { getAllPeople, getAllPlanets, getAllStarships } = new SwapiService();\n\n// # Паттерн React: Передача свойств через Children и Render функция\n// * Функции которые описывает как будет тело списков компонентов:\nconst renderPerson = (item) => `${item.name} (${item.gender})`;\nconst renderPlanet = (item) => `${item.name} `;\nconst renderStarship = ({ name }) => <span>{name}</span>;\n\n// # Паттерн React: Трансформация props в компонентах высшего порядка\n// * Функции которые описывает как будет тело списков компонентов:\nconst mapPersonMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getAllPeople,\n  };\n};\n\nconst mapPlanetMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getAllPlanets,\n  };\n};\n\nconst mapStarshipMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getAllStarships,\n  };\n};\n\n// # Паттерн React: Композиция компонентов высшего порядка\n// Компонент: Список всех кораблей\nconst PersonList = compose(\n  withSwapiService(mapPersonMethodsToProps),\n  withData,\n  withChildFunction(renderPerson)\n)(ItemList);\n\n// Компонент: Список всех планет\nconst PlanetList = compose(\n  withSwapiService(mapPlanetMethodsToProps),\n  withData,\n  withChildFunction(renderPlanet)\n)(ItemList);\n\n// Компонент: Список всех кораблей\nconst StarshipList = compose(\n  withSwapiService(mapStarshipMethodsToProps),\n  withData,\n  withChildFunction(renderStarship)\n)(ItemList);\n\nexport { PersonList, PlanetList, StarshipList };\n","import React, { Component } from 'react';\nimport Spinner from '../spinner/spinner';\nimport ErrorButton from '../error-button';\nimport './items-details.css';\n\n/*\n  # Паттерн React: Работа с props.children + клонирования свойств\n    1) Компонент может решать, как именно использовать children\n    2) Функция React.Children.map() упрощает обработку props.children\n    3) Child элементы можно заменять, оборачивать в другие компоненты или скрывать (если вернуть null)\n\n    ! React элементы нельзя изменять после того как они были созданы\n      модифицировать child элементы нельзя, child.item = item -> НЕЛЬЗЯ\n\n      НО можно клопировать React.cloneElement(child, {}) и добавлять дополнительные свойства\n      к тем которые там уже определены\n\n    ? Подобный паттерн применяется: Когда необходимо работать с группой взаимосвязанных компонентов\n        1) Когда моного взаимоисключающих кнопок, когда только одна кнопка может быть активна\n        Подобным способом можно добавить дополнительный eventListener на кнопки, что они переключались\n\n        2) Фильтр, если React.Children.map вернуть null или undefined - это значение не отрисуется\n          и по какому-нибудь критерию можно было выбрать какие child отрендарить\n*/\n\n// * item -> это тот объект который мы получаем из getData который записывается в state\n// filed, label получаем через PlanetDetails\nconst Record = ({ item, filed, label }) => {\n  return (\n    <li className='list-group-item'>\n      <span className='term'>{label}:</span>\n      <span>{item[filed]}</span>\n    </li>\n  );\n};\n\n// Так как внизу уже есть экспорт по умолчанию\n// Для экспорта необходимо использовать именной экспорт\nexport { Record };\n\n// # Обобщенный класс, предназначенный для отрисовки деталей: Персонажей, Планет, Кораблей\n// Generic (обощенный) компонент\nexport default class ItemsDetails extends Component {\n  state = {\n    item: null, // персонаж, корабль, планета\n    loading: false,\n  };\n\n  // Компонент может быть сразу инициализировать с каким-то id\n  // В people-page selectedPerson: 5 -> какой id - поэтому его стоит сразу обновить\n  componentDidMount() {\n    this.updateItem();\n  }\n\n  // * Если через props получен новый id, компонент должен обновиться\n  // * Проверка функции getData из-за возможности смены сервиса данных\n  componentDidUpdate(prevProps) {\n    // ! Важно делать проверку\n    if (\n      this.props.itemId !== prevProps.itemId ||\n      this.props.getData !== prevProps.getData\n    ) {\n      this.updateItem();\n    }\n  }\n\n  componentWillUnmount() {\n    // ! Отмена Fetch\n    this.props.cancelResource();\n  }\n\n  // * Функция по обновлению персонажей\n  updateItem() {\n    // # Паттерн React: Использование функция (SwapiService)\n    // getData Асинхронная (Promise) функция для получения данных\n    const { itemId, getData } = this.props;\n\n    // Если в момент componentDidMount\n    // у нас нет id, ничего обновлять не нужно, первоначально он null\n    if (!itemId) {\n      return;\n    }\n\n    // После обновления, state остается старый, пока его обновить вручную\n    this.setState({\n      item: null,\n      loading: true,\n    });\n\n    getData(itemId)\n      .then((item) => {\n        this.setState({ item, loading: false });\n      })\n      .catch((err) => {\n        // ! Проверяю тип ошибки, при отмене Fetch выхожу\n        if (err.name === 'AbortError') {\n          console.error('Fetch Aborted');\n          return;\n        }\n        this.setState({ loading: false });\n      });\n  }\n\n  render() {\n    const { item, loading } = this.state;\n\n    // Если загружается\n    if (loading) {\n      return <Spinner />;\n    }\n\n    // Если item не назначен еще персонаж, тогда выводить сообщение\n    if (!item) {\n      return <span>Select a person from a list</span>;\n    }\n\n    const { name, image } = item;\n\n    return (\n      <div className='item-details card'>\n        <img className='item-image' src={image} alt={name} />\n\n        <div className='card-body'>\n          <h4>{name}</h4>\n          <ul className='list-group list-group-flush'>\n            {/* // # Паттерн React: Работа с props.children + клонирования свойств */}\n            {React.Children.map(this.props.children, (child) => {\n              // Callback который принимает каждый child элемент\n              // return <li>{i}</li>; -> Необязательно возвращать child элементы\n              // Поэтому мы заменяем child его копией с дополнительным свойством\n              return React.cloneElement(child, { item });\n            })}\n          </ul>\n\n          <ErrorButton />\n        </div>\n      </div>\n    );\n  }\n}\n","import ItemsDetails, { Record } from './items-details';\nexport { Record };\nexport default ItemsDetails;\n","import React from 'react';\nimport ItemsDetails, { Record } from '../items-details/';\n\n// ! Использования React Context (Замена вызова SwapiService) через HOC\nimport { withSwapiService } from '../hoc-helpers';\n\n/*\n  ! Код будет более читабельным, если вынести детали конфигурации в отдельные компоненты\n  для этого можно использовать HOC (компоненты высшего порядка)\n  или просто написать компонент-обертку вручную\n\n  # Паттерн React: Работа с props.children + клонирования свойств\n  (ItemsDetails + Record)\n  Что должно отображаться внутри ItemsDetails\n  Так как он стал (обощенный) компонентом\n\n  Record -> li принимает значение для отображения определенных характеристик того, что мы хотим отрендарить,\n  она разная в зависимости от загружаемых данных:\n  корабль, персонаж или планета\n\n  Для того чтобы извлечь эти данные, нам нужен объект item\n  который получаем внутри items-details через React.Children.map + React.cloneElement - (так как React элементы имутабельны)\n  filed - это ключ для информации item[filed], label название колонки\n\n  * Record - можно было заменить:\n    <ItemsDetails\n      ...\n      fields = {\n        [\n          { filed='gender' label='Gender' },\n          { filed='eyeColor' label='Eye Color' }\n        ]\n      }\n    />\n\n  * Но подобное решение не в духе React, ведь он построен на идеи\n  * компонентов которые описывают внешний вид приложения\n\n    const personDetails = (\n      <ItemsDetails itemId={11} getData={getPerson}>\n        <Record filed='gender' label='Gender' />\n        <Record filed='eyeColor' label='Eye Color' />\n        <Record filed='birthYear' label='Birth Year' />\n      </ItemsDetails>\n    );\n\n    const startshipDetails = (\n      <ItemsDetails itemId={5} getData={getStarship}>\n        <Record filed='model' label='Model' />\n        <Record filed='length' label='Length' />\n        <Record filed='costInCredits' label='Cost' />\n      </ItemsDetails>\n  );\n*/\n\n// ! Заменен на Паттерн React: Трансформация props\n// # Паттерн React: Использование функция при передачи внутрь компонентов\n// Функции получения данных: персонажей, планет, кораблей\n// const { getPerson, getPlanet, getStarship } = new SwapiService();\n\nconst PersonDetails = (props) => {\n  // Ключи и свойства совпадают, можно заменить на {...props}\n  // itemId={itemId} getData={getData}\n  return (\n    <ItemsDetails {...props}>\n      <Record filed='gender' label='Gender' />\n      <Record filed='eyeColor' label='Eye Color' />\n      <Record filed='birthYear' label='Birth Year' />\n    </ItemsDetails>\n  );\n};\n\n// # Паттерн React: Трансформация props в компонентах высшего порядка\n// Можно не передавать компоненту PersonDetails весь SwapiService,\n// а передать только необходимые ему функции\nconst mapMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getPerson,\n  };\n};\n\n// # Паттерн React: Использование HOC для работы с контекстом (withSwapiService)\nexport default withSwapiService(mapMethodsToProps)(PersonDetails);\n\n/*\n  # БЕЗ Трансформации props в компонентах высшего порядка\n  const PersonDetails = ({ itemId, swapiService }) => {\n    const { getPerson } = swapiService;\n\n    return (\n      <ItemsDetails itemId={itemId} getData={getData}>\n        <Record filed='gender' label='Gender' />\n        <Record filed='eyeColor' label='Eye Color' />\n        <Record filed='birthYear' label='Birth Year' />\n      </ItemsDetails>\n    );\n  }\n*/\n","import React from 'react';\nimport ItemsDetails, { Record } from '../items-details/';\n\n// ! Использования React Context (Замена вызова SwapiService) через HOC\nimport { withSwapiService } from '../hoc-helpers';\n\n// # Паттерн React: Использование функция при передачи внутрь компонентов\n// Функции получения данных: персонажей, планет, кораблей\n// const { getPerson, getPlanet, getStarship } = new SwapiService();\n\nconst PlanetDetails = (props) => {\n  return (\n    <ItemsDetails {...props}>\n      <Record filed='population' label='Population' />\n      <Record filed='rotationPeriod' label='Rotation Period' />\n      <Record filed='diameter' label='Diameter' />\n    </ItemsDetails>\n  );\n};\n\n// # Паттерн React: Трансформация props в компонентах высшего порядка\n// Можно не передавать компоненту PersonDetails весь SwapiService,\n// а передать только необходимые ему функции\nconst mapMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getPlanet,\n  };\n};\n\n// # Паттерн React: Использование HOC для работы с контекстом (withSwapiService)\nexport default withSwapiService(mapMethodsToProps)(PlanetDetails);\n","import React from 'react';\nimport ItemsDetails, { Record } from '../items-details/';\n\n// ! Использования React Context (Замена вызова SwapiService) через HOC\nimport { withSwapiService } from '../hoc-helpers';\n\n// # Паттерн React: Использование функция при передачи внутрь компонентов\n// Функции получения данных: персонажей, планет, кораблей\n// const { getPerson, getPlanet, getStarship } = new SwapiService();\n\nconst StarshipDetails = (props) => {\n  return (\n    <ItemsDetails {...props}>\n      <Record filed='model' label='Model' />\n      <Record filed='length' label='Length' />\n      <Record filed='costInCredits' label='Cost' />\n    </ItemsDetails>\n  );\n};\n\n// # Паттерн React: Трансформация props в компонентах высшего порядка\n// Можно не передавать компоненту PersonDetails весь SwapiService,\n// а передать только необходимые ему функции\nconst mapMethodsToProps = (swapiService) => {\n  return {\n    getData: swapiService.getStarship,\n  };\n};\n\n// # Паттерн React: Использование HOC для работы с контекстом (withSwapiService)\nexport default withSwapiService(mapMethodsToProps)(StarshipDetails);\n","import React from 'react';\nimport './row.css';\nimport PropTypes from 'prop-types';\n\n/*\n  # Паттерн React: Передача в свойствах React элементы\n   ! React элемент - обычный объект который содержит информацию об этом компоненте\n\n    Так как в React компонент, через свойства можно передавать все что угодно\n    то можно передать и React Элементы <Card title={<h1>Hi</h1>}/>\n\n    Если блок разметки часто встречается в коде, то его можно вынести в отдельный компонент,\n    создавать элементы - \"контейнеры\" или элементы,\n    которые умеют выбирать, что рендерить в зависимости от условия (загрузка, ошибка, и т.п.)\n\n    Например необходимость распределять элементы слева и справа\n    А переданные в него свойства будут - элементами React\n    Например в Row -> слева (itemList), справа personDetails\n    Можно вынести эту Логику в отдельный компонент (облегчает поддержку)\n*/\n\n// # Функциональный компонент для отображения, элементов по бокам\nconst Row = ({ left, right }) => {\n  return (\n    <div className='row mb2'>\n      <div className='col-md-6'>{left}</div>\n\n      <div className='col-md-6'>{right}</div>\n    </div>\n  );\n};\n\n// # Валидация типов входящих props\nRow.propsTypes = {\n  // PropTypes.element - только React-элемент\n  // PropTypes.node - все что может отрендарить React\n  left: PropTypes.node,\n  right: PropTypes.node,\n};\n\nexport default Row;\n","import Row from './row';\nexport default Row;\n","import ErrorBoundry from './error-boundry';\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\n/*\n    # Паттерн React: Передача свойств через Children\n    Через children поддерживает передачу\n     любых типов данных: элементы, функции, объекты и другие.\n\n    ! в том числе и дерево элементов React:\n      <ErrorBoundry>\n        <ItemsDetails personId={this.state.selectedPerson} />\n      </ErrorBoundry>\n\n    * Нет разницы то каким способ передавать свойства в компонент\n    * Но читается легче когда компоненты написаны внутри компонента\n      Пример: Через свойства - props\n      <ErrorBoundry\n        body={<ItemsDetails personId={this.state.selectedPerson} />}\n      </>\n\n  * Этот компонент необходим для возможности:\n    Декларативно контролировать момент появления ошибки,\n    оборачивая компоненты данным классом\n    Чтобы не использовать в каждом родительском элементе componentDidCatch\n*/\n\n// # Класс обработки ошибок в дочерних элементах, и вывода сообщения\nexport default class ErrorBoundry extends Component {\n  state = {\n    hasError: false,\n  };\n\n  // * Метод отлова ошибок внутри дочерних компонентов\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    // Если произошла ошибка, то не будем пытаться отрисовать children\n    // Покажем ошибку\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}\n","import React, { Component } from 'react';\nimport { PersonList, PersonDetails } from '../sw-components';\nimport Row from '../row';\nimport ErrorBoundry from '../error-boundry';\n\n/*\n  # Паттерн React: Использование функция при передачи внутрь компонентов\n    ! Функции, которые передаем компоненту могут быть не только обработчиками событий\n\n    Функция, может инкапсулировать получение данных\n    (тогда компонент становится независимым от источника данных)\n\n    Функции получения данных (вынесли в обертку PeoplePage)\n    swapiService = new SwapiService();\n\n    Функция будет передаваться через свойства компонента,\n    Например getData={this.swapiService.getAllPeople}\n\n    Чтобы скрыть внутри этой функции,\n    детали итого как компонент получает данные\n\n    Это необходимо для переиспользования компонента,\n    ItemList в других компонентах\n    Например отображения разных списков\n    this.swapiService.getAllPeople или getAllStarships или getAllPlanets\n\n  # Паттерн React: render функция\n    renderItem функция - в компонент передается функция,\n    которая рендерит часть компонента (или весь компонент)\n\n    ! Такая функция обычно возвращает строку или React элемент\n\n    Например, когда список переиспользуется, то информация внутри li\n    может быть отличаться, при помощи функции можно контролировать\n    отображения элементов в внутри li\n      renderItem={(item) => `${item.name} (${item.gender})`}\n    ! Может быть с дополнительной разметкой\n      renderItem={(item) => <span>{item.name}<button>!</button></span>}\n\n    * Вариант замены render - функции\n      - передавать название свойства объекта, которое нужно отобразить\n      (так можно будет отобразить только одно свойство).\n\n      - передать в ItemList компонент, который будет использоваться\n      для рендеринга child-компонентов:\n      <ItemList itemComponent={PersonListItem} />\n\n    ! НО render-функция лучший подход\n\n  # Паттерн React: Передача в свойствах React элементы\n    ! React элемент - обычный объект который содержит информацию об этом компоненте\n    Так как в React компонент, через свойства можно передавать все что угодно\n    то можно передать и React Элементы <Card title={<h1>Hi</h1>}/>\n\n  # Паттерн React: Передача свойств через Children\n    ! React есть два способа передавать свойства компонентам\n      1. Через свойства - props (пары ключ-значение)\n          <ItemList\n            * Есть имя renderItem\n            renderItem={(item) => `${item.name} (${item.gender})`}\n          />\n         Доступ внутри this.props.renderItem\n\n      2. Через children\n           <ItemList>\n            * Нет имени\n            {(item) => `${item.name} (${item.gender})`}\n          </ItemList> <- закрывающий тег\n        Доступ внутри this.props.children\n\n    ! Через children поддерживает передачу\n    ! любых типов данных: строка, элементы, функции, объекты и другие.\n    ! в том числе и дерево элементов React:\n      <ErrorBoundry>\n        <ItemsDetails personId={this.state.selectedItem} />\n      </ErrorBoundry>\n\n      * Нет разницы то каким способ передавать свойства в компонент\n      * Но читается легче когда компоненты написаны внутри компонента\n      Пример: Через свойства - props\n      <ErrorBoundry\n        body={<ItemsDetails personId={this.state.selectedItem} />}\n      </>\n*/\n\n// # Компонент обертка, объединяющая в себе весь функционал для показа\nexport default class PeoplePage extends Component {\n  state = {\n    // Выбранный первоначально id персонажа или null\n    selectedItem: null,\n  };\n\n  // * Обработчик события по персонажу\n  onPersonSelected = (id) => {\n    this.setState({\n      selectedItem: id,\n    });\n  };\n\n  render() {\n    // Лучше выносить компонент в переменную, когда он разрастается\n    // * Вся внутрення реализация скрыта внутри item-list.js\n    const itemList = <PersonList onItemSelected={this.onPersonSelected} />;\n\n    // # Паттерн React: Передача свойств через Children (ErrorBoundry)\n    // Декларативно контролировать момент появления ошибки,\n    // оборачивая компоненты данным классом\n\n    const details = (\n      <ErrorBoundry>\n        <PersonDetails itemId={this.state.selectedItem} />\n      </ErrorBoundry>\n    );\n\n    // # Паттерн React: Передача в свойствах React элементы\n    return <Row left={itemList} right={details} />;\n  }\n}\n\n/*\n  # Использование Render функции или Передача свойств через Children\n  # Без использования композиции функций HOC\n  <PersonList\n    onItemSelected={this.onPersonSelected}\n    // # Паттерн React: render функция (тот же принцип что у паттерна ниже)\n    Функция которая описывает как будет тело этого компонента\n    renderItem={(item) => `${item.name} (${item.gender})`}\n    >\n\n    // # Паттерн React: Передача свойств через Children\n    Функция которая описывает как будет тело этого компонента\n    {(item) => `${item.name} (${item.gender})`}\n  </PersonList>\n*/\n","import React from 'react';\nimport { PlanetList, PlanetDetails } from '../sw-components';\nimport Row from '../row';\nimport ErrorBoundry from '../error-boundry';\n\n// # Компонент обертка, объединяющая в себе весь функционал для показа\nconst PlanetPage = ({ history, match }) => {\n  // id - закодирован в url страницы.\n  const { id } = match.params;\n\n  // При нажатии на li получают возвращаю itemId нажатой планеты,\n  // После этого пушу его через history.push, и получаю обратно через match.params\n  // Потом отправляю полученный id в PlanetDetails тем самым отрисовывая нужный компонент\n  // * Вся внутрення реализация скрыта внутри item-list.js\n  const itemList = <PlanetList onItemSelected={(itemId) => history.push(itemId)} />;\n\n  // # Паттерн React: Передача свойств через Children (ErrorBoundry)\n  // Декларативно контролировать момент появления ошибки,\n  // оборачивая компоненты данным классом\n\n  const details = (\n    <ErrorBoundry>\n      <PlanetDetails itemId={id} />\n    </ErrorBoundry>\n  );\n\n  // # Паттерн React: Передача в свойствах React элементы\n  return <Row left={itemList} right={details} />;\n};\n\nexport default PlanetPage;\n","import React from 'react';\nimport { StarshipList } from '../sw-components';\n\n// # Компонент обертка, объединяющая в себе весь функционал для показа\n\n/*\n  ! Абсолютный пусть: `/startships/${id}`;\n  ! Относительный путь: просто передать id\n\n  Для того чтобы использовать относительный путь, а не прописывать\n  history.push(`/startships/${id}`)\n  необходимо использовать\n    в Header to='/startships/' - в конце /\n      Иначе получиться, что при переходе по id\n       Относительный: /startships + id = /id\n*/\n\nconst StarshipPage = ({ history }) => {\n  /*\n    В props пропсы к StarshipPage автоматически\n    передается из Route: match, location и history\n\n    id - закодирован в url страницы.\n\n    Для того чтобы получить id - и передать его url страницы:\n      onItemSelected передает функцию через HOC\n      внутрь ItemList - переданная функция вызывается по нажатию по li\n      возвращая id нажатой планеты, согласно которому создается новый path\n      и передается в history.push(id) - добавляя элемент в историю браузера,\n      тем самым переводя браузер на \"Новую страницу\"\n  */\n\n  return <StarshipList onItemSelected={(id) => history.push(id)} />;\n};\n\nexport default StarshipPage;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\n/*\n  Секретная страница:\n    Если пользователь залогинен, то только тогда будет переход на страницу с секретный контентом\n    Иначе будет показана страница Login\n\n    <Redirect> - второй способ перехода на другую стараницу, помимо history\n*/\n\nconst SecretPage = ({ isLoggedIn }) => {\n  if (isLoggedIn) {\n    return (\n      <div className='jumbotron text-center'>\n        <h2>This page is Secret.</h2>\n        <p>You are logged in.</p>\n      </div>\n    );\n  }\n\n  // return <h3>You should not this see!!! Please, login.</h3>;\n  return <Redirect to='/login' />;\n};\n\nexport default SecretPage;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\n\n/*\n  Имитация Логина:\n    После того как произойдет Логин, будет отрыва страница с Секретным контентом\n   <Redirect> - второй способ перехода на другую стараницу, помимо history\n*/\n\nconst LoginPage = ({ isLoggedIn, onLoggin }) => {\n  if (isLoggedIn) {\n    return <Redirect to='/secret' />;\n  }\n\n  return (\n    <div className='jumbotron'>\n      <p>Login to see sectret page!</p>\n      <button className='btn btn-primary' onClick={onLoggin}>\n        Login\n      </button>\n    </div>\n  );\n};\n\nexport default LoginPage;\n","export default class MockSwapiService {\n  _people = [\n    {\n      id: 1,\n      name: 'id:1 [TEST DATA]',\n      image: `https://placeimg.com/400/500/people`,\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'dark brown',\n    },\n    {\n      id: 2,\n      name: 'id:2 [TEST DATA]',\n      image: `https://placeimg.com/400/500/people`,\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'blue brown',\n    },\n    {\n      id: 3,\n      name: 'id:3 [TEST DATA]',\n      image: `https://placeimg.com/400/500/people`,\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'red brown',\n    },\n    {\n      id: 4,\n      name: 'id:4 [TEST DATA]',\n      image: `https://placeimg.com/400/500/people`,\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'green brown',\n    },\n    {\n      id: 5,\n      name: 'id:5 [TEST DATA]',\n      image: `https://placeimg.com/400/500/people`,\n      gender: 'male',\n      birthYear: 'long ago',\n      eyeColor: 'yellow brown',\n    },\n  ];\n\n  _planets = [\n    {\n      id: 1,\n      name: 'id:1 [TEST DATA]',\n      image: `https://placeimg.com/400/400/nature`,\n      population: '1.530.000.000',\n      rotationPeriod: '10 hours 56 seconds',\n      diameter: '12.742 km',\n    },\n    {\n      id: 2,\n      name: 'id:2 [TEST DATA]',\n      population: 'not known',\n      image: `https://placeimg.com/400/400/nature`,\n      rotationPeriod: '111 days',\n      diameter: '2.104 km',\n    },\n    {\n      id: 3,\n      name: 'id:3 [TEST DATA]',\n      image: `https://placeimg.com/400/400/nature`,\n      population: '2.530.000.000',\n      rotationPeriod: '23 hours 56 seconds',\n      diameter: '3.742 km',\n    },\n    {\n      id: 4,\n      name: 'id:4 [TEST DATA]',\n      population: 'not known',\n      image: `https://placeimg.com/400/400/nature`,\n      rotationPeriod: '385 days',\n      diameter: '4.104 km',\n    },\n    {\n      id: 5,\n      name: 'id:5 [TEST DATA]',\n      image: `https://placeimg.com/400/400/nature`,\n      population: '7.530.000.000',\n      rotationPeriod: '23 hours 56 seconds',\n      diameter: '1.742 km',\n    },\n  ];\n\n  _starships = [\n    {\n      id: 1,\n      name: 'id:1 [TEST DATA]',\n      image: `https://placeimg.com/400/400/tech`,\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 1000,\n      passengers: 10,\n      cargoCapacity: 600,\n    },\n    {\n      id: 2,\n      name: 'id:2 [TEST DATA]',\n      image: `https://placeimg.com/400/400/tech`,\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 2000,\n      passengers: 20,\n      cargoCapacity: 700,\n    },\n    {\n      id: 3,\n      name: 'id:3 [TEST DATA]',\n      image: `https://placeimg.com/400/400/tech`,\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 3000,\n      passengers: 30,\n      cargoCapacity: 800,\n    },\n    {\n      id: 4,\n      name: 'id:4 [TEST DATA]',\n      image: `https://placeimg.com/400/400/tech`,\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 4000,\n      passengers: 40,\n      cargoCapacity: 900,\n    },\n    {\n      id: 5,\n      name: 'id:5 [TEST DATA]',\n      image: `https://placeimg.com/400/400/tech`,\n      model: 'NCC-1701-C',\n      manufacturer: 'Northrop Grumman Shipbuilding',\n      costInCredits: 'not known',\n      length: 'approx 300 meters',\n      crew: 5000,\n      passengers: 50,\n      cargoCapacity: 100,\n    },\n  ];\n\n  getAllPeople = async () => {\n    return this._people;\n  };\n\n  getPerson = async (id) => {\n    const [person] = this._people.filter((item) => item.id === id);\n    return person;\n  };\n\n  getAllPlanets = async () => {\n    return this._planets;\n  };\n\n  getPlanet = async (id) => {\n    const [planet] = this._planets.filter((item) => item.id === id);\n    return planet;\n  };\n\n  getAllStarships = async () => {\n    return this._starships;\n  };\n\n  getStarship = async (id) => {\n    const [starship] = this._starships.filter((item) => item.id === id);\n    return starship;\n  };\n\n  cancelResource = () => {\n    console.log('cancelResource');\n  };\n}\n","import App from './app';\nexport default App;\n","import React, { Component } from 'react';\nimport Header from '../header';\nimport RandomPlanet from '../random-planet';\nimport ErrorButton from '../error-button';\nimport { PeoplePage, PlanetsPage, StarshipsPage, LoginPage, SecretPage } from '../pages';\nimport SwapiService from '../../services/swapi-service';\nimport MockSwapiService from '../../services/mock-swapi-service';\nimport ErrorBoundry from '../error-boundry';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport './app.css';\n\n// ! Использования React Context\n// Дает вложенным компонентам доступ к значению которое мы передает\n// -> PeoplePage -> PersonDetails\nimport { SwapiServiceProvider } from '../swapi-service-contex';\nimport { StarshipDetails } from '../sw-components';\n\n/*\n  1. Создать компонента заглушки (верста и стилизация)\n  2. После создания компонента заглушки необходимо определить,\n  каким будет state у этого компонента\n\n  ! * REACT РАБОТА С СЕРВЕРНЫМ API\n    1. React(Ui библиотека) и ничего не знает о работе с сервером - это задача других библиотек\n    2. Сетевой код следует изолировать от кода компонента\n    3. Если необходимо, трансформировать данные от Api до того, как их получит компонент,\n    то это стоит делать не в компоненте, а в сетевом коде, который изолирован от них.\n    Компоненты должно работать уже с правильной структурой, моделью данных\n    4. При работе сетью, данные доступны не сразу или вовсе могут быть недоступны, поэтому\n    необходимо обрабатывать состояние \"Загрузка\" и \"Ошибка\"\n  ! 5. Разделять ответственность компонентов: Логику и Рендаринг (пример: RandomPlanet)\n\n  ! REACT ЭЛЕМЕНТЫ НЕЛЬЗЯ ИЗМЕНЯТЬ ПОСЛЕ ТОГО КАК ОНИ БЫЛИ СОЗДАНЫ\n    ?  НО можно создавать модифицированные копии при помощи React.cloneElement(child, {})\n    ? и добавлять дополнительные свойства к тему которые там уже определены\n\n  ! ФУНКЦИИ ЖИЗНЕННОГО ЦИКЛА:\n\n  # MOUNTING - компонент создается и впервые появляется на странице\n    constructor => render() => componentDidMount()\n\n    ! Плохая пратика когда constructor()\n      Используется код который создает побочные эффекты.\n      Например вызов функции this.updatePlanet();\n\n      До того как вызван метод componentDidMount, компонент\n      считается Unmount - поэтому вызывать setState в constructor\n      тоже плохая практика\n      ! Можно не инициализировать constructor вообще\n\n    componentDidMount - после того, как компонент \"подключен\"\n    (Dom элементы находится на странице)\n      Вызывается один раз, до того как компонент снова не удалят и вставят.\n\n      ? Используется:\n      - Первоначальная Инициализация компонента, который зависит\n        от внешних источников данных\n      - Запрос Api - начинать асинхронное получение данных\n      - Инициализация сторонних библиотеки для которых важно,\n        чтобы DOM был уже создан\n      - Обработки операций в DOM\n\n  # UPDATES - компонент может получать обновление и обновляется\n    New Props - пришли новые свойства\n                 => render() => componentDidUpdate(prevProps, prevState)\n    setState() - вызов обновления состояния\n\n    Не вызывается в момент первого render компонента.\n    Вызывается после того, как компонент обновился, state уже новый, render сработал,\n    поэтому он принимает предыдущие версии prevProps, prevState\n\n    ? Используется:\n      - Для запроса новых данных для обновления состояния\n\n    ! Если компоненту ничего не нужно делать при обновлении свойств и state, то и componentDidUpdate не нужен,\n    ! componentDidUpdate() это возможность среагировать на изменение свойств или состояния компонента\n\n    componentDidUpdate срабатывает тогда, когда свойства компонента изменили, в том числе, снаружи.\n    Сам компонент контролирует только свой state, props же ему передают \"сверху\".\n    componentDidUpdate() нужен, чтобы у компонента была возможность узнать,\n    что его свойства кто-то поменял, и как-то на это событие отреагировать.\n\n    ! ОЧЕНЬ ВАЖНО: если в этом методе необходимо будет изменят state\n    ! то, обязательно необходимо делать проверку свойства которое должны измениться\n    Сравнить предыдущие props с новым props, и только тогда осуществлять обновление state,\n    это связанно с тем, что если просто обновлять state, тогда он же и будет вызывать метод componentDidUpdate\n    и получиться компонент уйдет в “вечный цикл” обновления\n      if (prevProps.personId !== this.props.personId)\n\n  # UNMOUNTING - когда компонент не нужен и удаляется со странице\n    componentWillUnmount - компонент будет удален\n    Вызывается перед тем как компонент окончательно очиститься,\n    то есть DOM все еще находится на странице\n\n    ? Используется:\n      - Для очистки ресурсов с которыми работал компонент\n        (таймеры, интервалы, запросы к серверу)\n\n  # ERROR - когда компонент получает ошибку, которая не была поймана раньше\n    componentDidCatch(error, info) - когда в компоненте (или в его child-компонентах) произошла ошибка\n      error - ошибка которая привеля к тому, что метод сработал\n      info - в каком компоненте эта ошибка произошла\n\n    ? Используется:\n      - Для обработки ошибок только в методах \"жизненых циклах\" React компонента,\n      в тех методах которые отвечают за корректный рендаринг компонента.\n\n    componentDidCatch используется для того, чтобы ловить непредвиденные ошибки, которые, если их не обработать, сломают всё приложение и (что ещё хуже)\n    могут привести к некорректному состоянию приложения.\n\n    ! Не обрабатываются ошибки в event listener’ах и в асинхронном коде (запросы к северу, и т.п.)\n    ! Не замена стандартным проверкам, валидации данных, этот метод для непредвиденных ошибок\n\n    componentDidCatch --> \"граница ошибок\" Ловит ошибки ниже себя по иерархии\n    Ошибка произошла в дочерних компонентах, то ошибка всплывает на родительском компоненте\n    в котором определен componentDidCatch\n    Если ошибка произошла на родительском компоненте, то она пойдет выше к родителю этого компонента.\n    Принцип работы похож на try/catch - ошибку отлавливает ближайший блок\n\n  ! REACT-ROUTER\n    Route - работает как фильтр, и в зависимости от path отображает содержимое,\n    переданное через component={} или render{()=>}\n\n    * Один и тот же адрес может отрисовываться одним или несколькими Route (<Switch> - то нет)\n    * Приложение должно позволять перезагружать страницы, или передавать URL другим пользователям\n    * Route автоматически передает: match, location и history в компоненты, иначе нужно использовать withRouter\n\n    # Функция render - отобразит React элемент - когда сработает Route, при совпадании с path.\n      Это альтернативный (component={}) способ передать компоненту Route, тот контект который\n      он будет рендарить. Удобно использовать когда, компоненту нужно передать свойства.\n\n      Принимает параметры render({match, location, history})\n        * match - объект содержит детали, о том как именно path='/startships/:id'\n          совпал с тем конкретным адресом который сейчас находится в строке браузера.\n\n        * location - объект содежит детальную информацию о текущем положении, состоянии Router\n          о текущей странице которая отображается.\n\n        * history - объект используется, чтобы програмно перейти c одной страницы на другую страницу (адрес)\n            Он так же работает с историей браузера, history.push(...) - добавляем элемент в историю браузера,\n            тем самым переводя браузер на \"Новую страницу\"\n            Api - который использует Router, для того чтобы организовать переходы между страницами\n\n    # exact ~ exact={true}\n      Если этот параметр установлен, то Route будет использовать точное совпадение\n      в path, если нет то, при нахождении в других Route в path той же строки\n      будут срабатывать оба Route.\n      Например, так как в path есть '/' и содержится Route в других путях (path),\n      то h2 будет отображается на всех страницах.\n\n    # /.../:id'- любая строка, котрое будет идти после /.../\n      Динамические блоки которые будет меняться в зависимости от параметров.\n      Например внутри функции render({math}) у объекта math свойство params(объект)\n          params: {id: \"10\"},\n          url: \"/startships/10\"\n          То что мы ввели в строку в браузере startships/10\n\n    # /.../:id?- в path параметры могут быть опциональный (может быть, а может и не быть)\n      То есть компонент будет отображаться с /people/, так и с /people/10\n      Адрес должен содержать ID открытого элемента\n      (тогда открыв URL пользователь попадет на тот же экран)\n\n    # withRouter() - HOC. Передает объект react router, в свойствах которого\n      объекты: match, history и location.\n        withRouter нужен только тогда, когда мы используем render-функцию в Route,\n        или когда доступ к объектам React Router нужно получить из компонента глубже по иерархии.\n\n    # <Redirect> - второй способ перехода на другую стараницу, помимо history\n\n    # <Switch> -  отрисует только первый элемент который соответствует  адресу.\n      Если для отрисовки разных частей с одни и тем же path используются два Route,\n      то сработает только первый.\n      Если Switch доходит до конца, то ни один из Route не сработал поэтому сработает\n      последний <Redirect to='/'>.Если ввести в адрес какую-нибудь строку которой не существет\n      то перейдем на Главную страницу.\n      Либо же можно отрисовать сообщения об ошибке:\n        <Route /> - без path - означает что он будет срабатывать всегда. Если он стоит\n        последний, внутри Switch - то он будет срабатывать тогда, когда из других не сработал\n\n*/\n\nexport default class App extends Component {\n  state = {\n    // Инициализация класс-сервиса, для работы с сервером\n    swapiService: new SwapiService(),\n    // Показывать случайную планету\n    showRandomPlanet: true,\n    // Имитация Логина\n    isLoggedIn: false,\n  };\n\n  // * Обработчик переключения показа случайно планеты\n  toggleRandomPlanet = () => {\n    this.setState((state) => {\n      return {\n        showRandomPlanet: !state.showRandomPlanet,\n      };\n    });\n  };\n\n  // * Имитация Входа в систему для показа скрытых данных\n  onLoggin = () => {\n    this.setState({ isLoggedIn: true });\n  };\n\n  // * Переключение сервиса данных\n  onServiceChange = () => {\n    this.setState(({ swapiService, showRandomPlanet }) => {\n      // Проверкакакому class принадлежать данные\n      const Service =\n        swapiService instanceof SwapiService ? MockSwapiService : SwapiService;\n\n      return {\n        swapiService: new Service(),\n        // Скрывать Случайную Планеты, если данные моковые\n        showRandomPlanet: Service === MockSwapiService ? false : true,\n      };\n    });\n  };\n\n  render() {\n    const { showRandomPlanet, isLoggedIn, swapiService } = this.state;\n\n    // ! null игнорируется jsx\n    // Показывать или скрывать случайную планету\n    const randomPlanet = showRandomPlanet ? <RandomPlanet /> : null;\n\n    return (\n      <ErrorBoundry>\n        <SwapiServiceProvider value={swapiService}>\n          <Router>\n            <div className='app'>\n              <Header onServiceChange={this.onServiceChange} />\n              {randomPlanet}\n\n              <div className='row mb2 button-row'>\n                <button\n                  className='toggle-planet btn btn-warning btn-lg'\n                  onClick={this.toggleRandomPlanet}\n                >\n                  Toggle Random Planet\n                </button>\n                <ErrorButton />\n              </div>\n\n              <Switch>\n                {/* Главная станица */}\n                <Route path='/' exact render={() => <h2>Welcome to Start Wars</h2>} />\n\n                {/* Страница Персонажей - Отображения через state (Без React Router) */}\n                <Route path='/people/' component={PeoplePage} />\n\n                {/* Страница: Каталог Планет, с отрисовков по id в url на этой же странице */}\n                <Route path='/planets/:id?' component={PlanetsPage} />\n\n                {/* Страница: Каталог Кораблей(по нажатию) */}\n                <Route path='/startships/' exact component={StarshipsPage} />\n\n                {/* Страница: Выбраного по id Корабля (переход с Каталог Кораблей) */}\n                <Route\n                  path='/startships/:id'\n                  render={({ match }) => {\n                    // /startships/10 - id\n                    const { id } = match.params;\n                    return (\n                      <ErrorBoundry>\n                        <StarshipDetails itemId={id} />\n                      </ErrorBoundry>\n                    );\n                  }}\n                />\n\n                {/* Страница: Логин (Имитация) */}\n                <Route\n                  path='/login'\n                  render={() => (\n                    <LoginPage isLoggedIn={isLoggedIn} onLoggin={this.onLoggin} />\n                  )}\n                />\n\n                {/* Страница: Секретного контента, которой будет показан только если залогинится на страницу Логин */}\n                <Route\n                  path='/secret'\n                  render={() => <SecretPage isLoggedIn={isLoggedIn} />}\n                />\n\n                {/* Страница: Default */}\n                <Route render={() => <h2>Page not found</h2>} />\n              </Switch>\n            </div>\n          </Router>\n        </SwapiServiceProvider>\n      </ErrorBoundry>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}